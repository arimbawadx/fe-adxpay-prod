"use strict";(self["webpackChunkadxpay"]=self["webpackChunkadxpay"]||[]).push([[324],{2324:function(a,e,t){t.r(e),t.d(e,{default:function(){return E}});var i=t(3396),o=t(9242),n=t(7139);const s={class:"container content"},r=(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col-12"},[(0,i._)("h1",{class:"text-primary"},"Transaksi Tagihan Listrik")])],-1),d={class:"row mt-3"},l={class:"col-12 mt-2"},c=(0,i._)("div",{class:"alert alert-danger rounded-10",role:"alert"}," Masukkan no PLN yang valid! ",-1),u=[c],h={key:0,class:"col-12 mt-2"},m={class:"alert alert-primary rounded-10",role:"alert"},p={class:"col-12"},v={class:"card bg-putih shadow rounded-10"},k={class:"card-body"},g={class:"text-left"},b={class:"form-group"},f=(0,i._)("label",{for:"no_tujuan",class:"text-primary"},"No PLN",-1),y={key:1,type:"button",class:"btn btn-lg btn-block btn-primary rounded-10",disabled:""},w=(0,i._)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),_=(0,i.Uk)(" Loading... "),C=[w,_],P={class:"card rounded-10 mt-3"},T=(0,i._)("div",{class:"card-header text-center"},"Detail Tagihan",-1),D={class:"card-body"},N=(0,i.uE)('<div class="row"><div class="col-6">ID Reff</div><div class="col-6">Lorem, ipsum dolor.</div></div><div class="row"><div class="col-6">No Pelanggan</div><div class="col-6">547101442633</div></div><div class="row"><div class="col-6">Nama Pelanggan</div><div class="col-6">Lorem ipsum dolor sit.</div></div><div class="row"><div class="col-6">Periode</div><div class="col-6">MEI20</div></div><div class="row"><div class="col-6">Tagihan</div><div class="col-6">Rp. 2,030,768</div></div><div class="row"><div class="col-6">Biaya Admin</div><div class="col-6">Rp. 5000</div></div><div class="row"><div class="col-6">Total Tagihan</div><div class="col-6">Rp. 50000</div></div><div class="row"><div class="col-12"><hr></div></div>',8),x={class:"row"},j={class:"col-12"},B={key:0,class:"form-group"},S=(0,i._)("label",{for:"metode_pembayaran"},"Metode Pembayaran",-1),L=(0,i._)("option",{value:""},"Pilih",-1),V=(0,i._)("option",{value:"Hutang"},"Bayar Nanti",-1),q={value:"Dompet"},M=(0,i._)("div",{class:"col-12"},[(0,i._)("button",{type:"button",class:"btn btn-lg btn-block btn-primary rounded-10"}," Bayar ")],-1);function A(a,e,t,c,w,_){return(0,i.wg)(),(0,i.iD)("div",s,[r,(0,i._)("div",d,[(0,i.wy)((0,i._)("div",l,u,512),[[o.F8,!this.noPlNValid]]),this.hasilCheck?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[400==this.hasilCheck.responseCode?((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",m,(0,n.zw)(this.hasilCheck.responseData.description),1)])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0),(0,i._)("div",p,[(0,i._)("div",v,[(0,i._)("div",k,[(0,i._)("form",g,[(0,i._)("div",b,[f,(0,i.wy)((0,i._)("input",{onInput:e[0]||(e[0]=(...a)=>_.checkDigit&&_.checkDigit(...a)),"onUpdate:modelValue":e[1]||(e[1]=a=>this.noTujuan=a),id:"no_tujuan",required:"",autocomplete:"off",type:"text",class:"form-control form-control-lg border border-primary rounded-10",name:"no_hp",placeholder:"Masukkan Nomor PLN.."},null,544),[[o.nr,this.noTujuan]])]),(0,i._)("div",null,[!this.loadCheckSpinner&&this.noPlNValid?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e[2]||(e[2]=a=>_.checkTagihan()),type:"button",class:"btn btn-lg btn-block btn-primary rounded-10"}," Cek Tagihan ")):(0,i.kq)("",!0),this.loadCheckSpinner?((0,i.wg)(),(0,i.iD)("button",y,C)):(0,i.kq)("",!0)]),(0,i._)("div",P,[T,(0,i._)("div",D,[N,(0,i._)("div",x,[(0,i._)("div",j,["1"==this.user.verified?((0,i.wg)(),(0,i.iD)("div",B,[S,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>w.metodePembayaran=a),id:"metode_pembayaran",name:"metode_pembayaran",required:"",class:"form-control form-control-lg rounded-10"},[L,V,(0,i._)("option",q," Dompet | Saldo Anda: Rp. "+(0,n.zw)(_.numberFormat(this.user.saldo)),1)],512),[[o.bM,w.metodePembayaran]])])):(0,i.kq)("",!0)]),M])])])])])])])])])}t(2338);var R=t(2492),F=t.n(R),I=t(6265),U=t.n(I),O={name:"CusTransaksiTLPascaView",props:["ipAdress"],data(){return{user:JSON.parse(localStorage.getItem("SessionUser")),noTujuan:null,noPlNValid:!1,loadCheckSpinner:!1,hasilCheck:null,dataCheckNoTujuan:{},idOperator:null,idProduct:null,metodePembayaran:null,dataLoadProduct:null}},methods:{kirim(){"0"==this.user.verified&&(this.metodePembayaran="Dompet"),this.noTujuan?this.idProduct?this.metodePembayaran?F().fire({title:"Yakin untuk mengirim?",text:"Pastikan data form sudah benar!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yakin"}).then((a=>{if(a.isConfirmed){const a=new FormData;a.append("metode_pembayaran",this.metodePembayaran),a.append("no_hp",this.noTujuan),a.append("produk",this.idProduct),a.append("operatorProduk",this.idOperator),a.append("cus_id",this.user.id),U()({method:"post",url:this.ipAdress+"api/transaksi/tl?username="+this.user.username,data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(a){"failed"==a.data.status?F().fire({icon:"error",title:a.data.message,text:a.data.keterangan,showConfirmButton:!0,timer:1500}).then((function(){window.location="/customer/data-transaksi"})):""==a.data?F().fire({icon:"success",title:"Diproses",text:"Transaksi Diproses",showConfirmButton:!0,timer:1500}).then((function(){window.location="/customer/data-transaksi"})):F().fire({icon:"success",title:a.data.message,text:a.data.keterangan,showConfirmButton:!0,timer:1500}).then((function(){window.location="/customer/data-transaksi"}))})).catch((function(a){console.log(a)}))}})):F().fire({icon:"error",title:"Metode Pembayaran Kosong",text:"silahkan pilih metode pembayaran!",showConfirmButton:!1,timer:1500}):F().fire({icon:"error",title:"Produk Kosong",text:"silahkan pilih produk!",showConfirmButton:!1,timer:1500}):F().fire({icon:"error",title:"No Tujuan",text:"silahkan masukkan no hp yang benar!",showConfirmButton:!1,timer:1500})},numberFormat(a){return a?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0"},checkDigit:function(){this.hasilCheck=null,11==this.noTujuan.replace(/[^0-9]/g,"").length||12==this.noTujuan.replace(/[^0-9]/g,"").length?this.noPlNValid=!0:this.noPlNValid=!1},checkTagihan(){this.noTujuan=this.noTujuan.replace(/[^0-9]/g,""),this.loadCheckSpinner=!0,U()({method:"post",url:this.ipAdress+"api/check-tagihan-pln/"+this.noTujuan+"?username="+this.user.username,headers:{"Content-Type":"multipart/form-data"}}).then((a=>{console.log(a),this.hasilCheck=a.data,this.loadCheckSpinner=!1})).catch((function(a){console.log(a)}))}},mounted(){}},Y=t(89);const z=(0,Y.Z)(O,[["render",A]]);var E=z}}]);
//# sourceMappingURL=324.af1cbd96.js.map